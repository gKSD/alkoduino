Путь до скетчей "Пользователи/Софья/ДОкументы/Arduino/libraries"


Оля
1. Робот просит базу выдать ему инфу, о том, сколько жидкости в каждой бутылке. Для этого он посылает команду (88h = 10001000b)
Плата отвечает ему массивом из 16 байт. Каждые 2 байта - уровень жидкости в бутылке в мл. Например, 00000011 00100000 = 800 мл
в этом массиве первый и второй байт отвечают за первую бутылку, третий и четвертый - за вторую и т п
кароч, массив short int-ов
Оля
мы предполагаем, что робот знает, в какой бутылке что и номера бутылок (так лучше, т.к. робота потом можно будет мобильным приложением заменить да и вообще чем угодно)
и робота проще перепрошить
если что-то изменить
итак, робот проверяет, всего ли ему хватает для коктейля
если да, то он подъезжает к какой-то бутылке и...

итак, робот отправляет базе команду начать наливать в следующем виде:

0111 0111 (байт команды наливания) <байт с номером бутылки> <2 байта с миллитрами>
и в конечном счете, плата роботу отвечает, что закончила наливать (пусть команда 1111 1111)


Смотри, получается Uno не знает ничего, она просто умеет открывать бутылки по команде?
Все пропорции коктейлей знает Strela? 
Мне кажется так не совсем верно
Вот смотри, мы заменим Strela на мобильное приложение, Мне кажется лучше будет - если мы там просто выберем тип коктейля и спросим плату Uno  "можно ли сделать такой коктейль?" => Uno проверяет все, так как она разливальщик - и при очередном наливании отмечает у себя уменьшение количества жидкости в определенной бутылке. Она проверяет может ли налить - и отвечает ошибкой или апрувом. Робот, получив апрув, запрашивает номера бутылок, у которых надо остановиться -- это можно так сделать
	запрос 99h = 10011001
	ответ от платы 01100100 => надо остановиться у 3ьей, 6ой и 7ой бутылок. 
Дальше робот знает сколько ему проехать (счетчик), подъехав к очередной бутылке, посылает плате сигнал - (и плата и робот можно принять, что работают последовательно - типо сначала 3я бутылка, потом 6, потом 7, и никак иначе). Плата открывает насос, жидкость наливается, робот едет дальше.
Как только все бутылки пройдены робот посылает сигнал 11111111 - о завершении

как тебе такой вариант?









*************************************************************************************************************************************************
*************************************************************************************************************************************************



Схемы алгоритма, функциональные, принципиальные

СХематики делаем не полные, только то что используем, анпример всякие SPI не указываем. Но лучше в идеале, если влезет, то все указать.
Если не влезло, то словами над основной надпиью пишем "Примечание: на вывод такой подаем землю и тп и тд"


Крутая ссылка по TWI http://robocraft.ru/blog/arduino/786.html

description in section 13 starting on page 76 describes the ports. On page 87, we see the description for Port C, Bit 4: "SDA, 2-wire Serial Interface Data: When the TWEN bit in TWCR is set (one) to enable the 2-wire Serial Interface, pin PC4 is disconnected from the port and becomes the Serial Data I/O pin for the 2-wire Serial Interface." Ah-hah! Finally! After all those definitions, we arrive at one fact: PORTC Bit 4 enables the SDA line for the TwoWire interface. And, as it happens